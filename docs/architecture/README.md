# APM Architecture Documentation

## Overview

The APM (AI Package Manager) has evolved from simple multi-agent coordination to a **collective intelligence system** where ephemeral agent instances operate as part of a shared consciousness.

## Final Architecture

### ðŸ“‹ [APM Collective Intelligence - Final Design](./apm-collective-intelligence-final.md)
The complete architecture specification including all components, data flows, and integration points.

### ðŸš€ [1-Day Implementation Plan](./implementation-plan-1-day.md)
Hour-by-hour plan to implement core functionality in a single focused day.

## Evolution History

### Phase 1: Team Management Concepts
- [Persistent Team Management](./persistent-team-management.md) - Initial concept with persistent identities
- [UML System Architecture](./uml-system-architecture.md) - Original team-based diagrams

### Phase 2: Collective Intelligence
- [Collective Intelligence v1](./collective-intelligence-architecture.md) - Shift to ephemeral + collective memory
- [Collective Intelligence v2](./collective-intelligence-v2.md) - Added cross-conversation search & dynamic capabilities

### Implementation Roadmaps
- [Implementation Roadmap v1](./implementation-roadmap.md) - Original week-based plan
- [Collective Intelligence Roadmap](./collective-intelligence-roadmap.md) - Updated for Borg model
- [Implementation Roadmap v2](./implementation-roadmap-v2.md) - With search and capabilities

## Key Concepts

### Agents are Ephemeral
- Task-focused instances, not persistent personas
- Created for specific work, then terminated
- Knowledge preserved in collective memory

### Memory is Collective
- Shared knowledge pools at role and global levels
- Automatic promotion of reusable insights
- Ephemeral context for active conversations

### Context is Intelligent
- Code files summarized for 90% token reduction
- Cross-conversation search capabilities
- Dynamic capability loading (role stacking)

### Tools are Enhanced
- Read returns summaries instead of full files
- Search uses semantic understanding
- Write triggers intelligent updates

## Quick Start

1. **Implement crash recovery first** (Hours 1-2)
   - Never lose agent conversations again
   - `apm recover all` restores everything

2. **Add conversation search** (Hours 3-4)
   - Agents can reference other discussions
   - No more hunting through terminals

3. **Enable intelligent reading** (Hours 5-6)
   - 90% token savings on code context
   - Semantic understanding over syntax

## Design Principles

1. **Simplicity First**: Bash scripts that work today
2. **Token Efficiency**: Every optimization matters at scale
3. **Collective Intelligence**: Agents share knowledge freely
4. **Progressive Enhancement**: Start minimal, load as needed
5. **User-Centric**: Solve real problems, not theoretical ones

## Next Steps

Start with the [1-Day Implementation Plan](./implementation-plan-1-day.md) focusing on crash recovery - the most urgent need.